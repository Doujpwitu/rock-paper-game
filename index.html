<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    

    <p id="liveScore"></p>
    <button id="r">ROCK</button>
    <button id="p">PAPER</button>
    <button id="s">SCISSORS</button>

    <div id="results"></div>

    <script>
        r_btn = document.querySelector("#r");
        p_btn = document.querySelector("#p");
        s_btn = document.querySelector("#s");

        r_btn.addEventListener("click",()=>{
            playRound('rock',getComputerChoice());
        })
        p_btn.addEventListener("click",()=>{
            playRound('paper',getComputerChoice())
        })
        s_btn.addEventListener("click",()=>{
            playRound('scissors',getComputerChoice())
        })

        results_div = document.querySelector("#results");
        liveScore_p = document.querySelector("#liveScore");


        // to keep track of the players score
        let humanScore = 0;
        let computerScore = 0;

        liveScore_p.textContent = `Your score : ${humanScore} , Computer's score : ${computerScore}`;
        // function to randomly returns rock paper scissors
        // generate a random number between 0 and 3
        // return rock if 0 
        // return paper if 1
        // return scissors if 2
        function getComputerChoice(){

            let ans = Math.floor(Math.random()*3)

            switch(ans){
                case 0: 
                    return 'rock';
                    break;
                case 1: 
                    return 'paper';
                    break;
                case 2: 
                    return 'scissors'
                    break;
            }
        }

        function getHumanChoice(){
            let choice = prompt('What do you want to play with ..?r/p/s')
            switch(choice) {
                case 'r': 
                    return 'rock';
                    break;
                case 'p': 
                    return 'paper';
                    break;
                case 's': 
                    return 'scissors'
                    break;
                default:
                    return getComputerChoice();
                    break;


            }
        }
        // play round
        // takes human choice and computer choice 
        // plays a single round 
        // increments the round winner's 
        // logs a winner announcement
        function playRound(humanChoice , computerChoice){
            if(humanChoice===computerChoice){
                console.log(`tie ! ${humanChoice} can't beat ${computerChoice}`)
            }else if(humanChoice==='rock'){
                if(computerChoice==='scissors'){
                console.log(`You win ! ${humanChoice} beats ${computerChoice}`)
                humanScore++;
                liveScore_p.textContent = `Your score : ${humanScore} , Computer's score : ${computerScore}`;

                }else{
                    console.log(`You lost ! ${humanChoice} can't beats ${computerChoice}`)
                    computerScore++;
                    liveScore_p.textContent = `Your score : ${humanScore} , Computer's score : ${computerScore}`;

                }
            }else if (humanChoice==='paper'){
                if(computerChoice==='rock'){
                    console.log(`You win ! ${humanChoice} beats ${computerChoice}`)
                    humanScore++;
                    liveScore_p.textContent = `Your score : ${humanScore} , Computer's score : ${computerScore}`;

                }else{
                    console.log(`You lost ! ${humanChoice} can't beats ${computerChoice}`)
                    computerScore++; 
                    liveScore_p.textContent = `Your score : ${humanScore} , Computer's score : ${computerScore}`;

                }
            }else if (humanChoice==='scissors'){
                if(computerChoice==='paper'){
                    console.log(`You win ! ${humanChoice} beats ${computerChoice}`)
                    humanScore++;
                    liveScore_p.textContent = `Your score : ${humanScore} , Computer's score : ${computerScore}`;

                }else{
                    console.log(`You lost ! ${humanChoice} can't beats ${computerChoice}`)
                    computerScore++; 
                    liveScore_p.textContent = `Your score : ${humanScore} , Computer's score : ${computerScore}`;

                }
            }

            if(humanScore == 5 || computerScore == 5 ){
            showWinner();
            }
        }

        

        function showWinner(){
            if(humanScore===computerScore){
                p = document.createElement("p");
                p.textContent = "winner is ...\bHIM!"
                results_div.appendChild(p);
                console.log('LOGEES')
            }
            else if (humanScore>computerScore){
                p = document.createElement("p");
                p.textContent = "winner is ...\bYOU!"
                results_div.appendChild(p);
            }else{
                p = document.createElement("p");
                p.textContent = "winner is ...\bME!"
                results_div.appendChild(p);
            }
            score_p = document.createElement("p");
            score_p.textContent = `Human score : ${humanScore}, Computer score : ${computerScore}`

        }

    </script>
</body>
</html>